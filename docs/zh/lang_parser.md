# **语言前端**

​	语言解析前端将输入的代码转换为统一的中间表示，通过在中间表示的基础上进行后续分析，从而实现独立于编程语言的语义分析引擎。然而，目前的许多中间表示如LLVM IR、Graal Truffle等格式复杂，并且很多工具前端不仅需要处理格式转换，还需要提供类型分析、控制流、SSA等分析，这些导致语言前端任务繁重，对源代码转换难度大，成本高。

​	基于这种现状，我们实现了轻量级的语言前端，将涉及语义相关逻辑全部卸载到语义分析引擎，前端只需要负责忠实翻译输入代码到中间语言即可，不负责其他语义相关工作。基于这一理念，我们设计不依赖于类型系统的简单通用的中间表示，即GIR（General IR）。GIR剥离了类型系统的冗余细节，聚焦于代码行为建模与变量逻辑关系的表达，从而有利于在更高抽象层次支持程序行为。

​目前GIR仅包含 78 条基础指令，具体可参见[GIR 说明文档](./gir.md)。这些指令命名遵循直观的语义映射规则，例如 class_decl（类声明）、call_stmt（函数调用）、assign_stmt（赋值语句）等均具备自解释性。

前端实现逻辑主要为采用自上而下递归的方式：首先通过tree sitter将输入代码转换为AST，然后lang_parser.py调用具体语言的Parser转换为GIR。

